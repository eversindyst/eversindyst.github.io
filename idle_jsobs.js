function playerInfo(e,n,a){var e,n,a;this.spasdfdfspdMWorth=.11,this.shipMlt=1.12,this.digChnc=0,this.digMlt=1.5,this.money=e,this.updTime=n,this.gain=a}function building(e,n,a,t){var e,n,a;this.name=e,this.baseCost=n,this.cost=n,this.exp=a,this.amount=0,this.baseGain=t,this.currGain=this.baseGain*this.amount}function pageInit(){$("#alert").fadeOut(0),resetPnB(),buildings.forEach(function(e,n){n++,document.getElementById("name"+n).innerHTML=e.name,document.getElementById("owned"+n).innerHTML=e.amount,document.getElementById("cost"+n).innerHTML=e.cost}),load()}function resetPnB(){player=new playerInfo(0,1e3,1),clearInterval(gameTimer),gameTimer=setInterval(gameTick,player.updTime);setInterval(save,6e4);buildings=[new building("Shoes",20,1.07,1),new building("Spade",200,1.045,3),new building("Bingo",5e3,1.08,3),new building("Spaceship",6800,1.19,70),new building("Magic",1e4,1.02,50),new building("Ice Cubes",999999,1.1,6),new building("Football",12392232,1.03,7),new building("Garbage",2232222832,1.05,8)]}function buy(e){var n=document.getElementById("buy"+e),a=buildings[e-1];a.cost>player.money||(player.money=player.money-a.cost,a.amount++,a.cost=Math.round(a.baseCost*Math.pow(a.exp,a.amount)),n.border="2",window.setTimeout(function(){n.border="1"},100),a.currGain+=a.baseGain,"Spade"==a.name&&buySpade(1),player.gain+=+a.baseGain,"Spaceship"==a.name&&(a.baseGain=Math.round(a.baseGain*player.shipMlt)),pageRefresh())}function buySpade(e){for(var n=0;e>n;n++)player.digChnc=Math.round(100*(player.digChnc+player.spdWorth))/100,player.digMlt=Math.round(100*(player.digMlt+player.spdMWorth))/100}function pageRefresh(){document.getElementById("myMoney").innerHTML=player.money,document.getElementById("gainer").innerHTML=player.gain,document.getElementById("digChance").innerHTML=player.digChnc,document.getElementById("digMult").innerHTML=player.digMlt,document.getElementById("digVal").innerHTML=Math.round(player.digMlt*buildings[0].currGain),buildings.forEach(function(e,n){n++,document.getElementById("owned"+n).innerHTML=e.amount,document.getElementById("cost"+n).innerHTML=e.cost})}function gameTick(){3621==Math.round(1e4*Math.random())&&buildings.forEach(function(e,n){n++,document.getElementById("buy"+n).src="buildx.png"}),player.money=player.money+player.gain,document.getElementById("myMoney").innerHTML=player.money,showBuilding(),dig(),playBingo()}function showBuilding(){player.money>buildings[0].baseCost,buildings.forEach(function(e,n){player.money>buildings[n].baseCost&&($("#building"+n).fadeIn("slow"),$("#info"+n).fadeIn("slow"))})}function dig(){if(Math.round(1e4*Math.random())/100<player.digChnc){var e=Math.round(buildings[0].currGain*player.digMlt);player.money+=e;var n=document.getElementById("buy2");n.style.borderColor="FFD700",n.border="2",window.setTimeout(function(){n.style.borderColor="#000000",n.border="1"},200)}}function playBingo(){}function save(){localStorage.setItem("playerMoney",player.money);var e=JSON.stringify(buildings);localStorage.setItem("buildings",e),localStorage.setItem("versionNum",verNum),document.getElementById("alert").innerHTML="Game has been saved",saveLoadPopup()}function saveLoadPopup(){$("#alert").fadeIn("fast"),$("#alert").fadeOut("fast"),pageRefresh()}function load(){if(localStorage.getItem("versionNum")){if(resetPnB(),localStorage.getItem("playerInfo")&&(player.money=+localStorage.getItem("playerMoney")),localStorage.getItem("buildings"))var e=JSON.parse(localStorage.getItem("buildings"));e.forEach(function(e,n){var a=buildings[n];if(a.amount=e.amount,"Spaceship"==a.name)for(var t=0;t<a.amount;t++)a.currGain+=a.baseGain,a.baseGain=Math.round(a.baseGain*player.shipMlt);else a.currGain=a.baseGain*a.amount;"Spade"==a.name&&buySpade(a.amount),a.cost=Math.round(a.baseCost*Math.pow(a.exp,a.amount)),player.gain+=a.currGain}),document.getElementById("alert").innerHTML="Game has been loaded"}saveLoadPopup()}function reset(){localStorage.removeItem("versionNum"),location.reload()}var gameTimer,buildings,player,verNum="v0.2";$(".toggle").click(function(){$(this).toggleClass("grey");var e=$(this).next();$(e).toggle()});
